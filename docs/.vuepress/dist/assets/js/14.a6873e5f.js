(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{336:function(t,s,a){"use strict";a.r(s);var r=a(3),o=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"用lodash-es代替lodash"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用lodash-es代替lodash"}},[t._v("#")]),t._v(" 用lodash-es代替lodash")]),t._v(" "),s("p",[t._v("lodash为了良好的浏览器兼容性, 它使用了旧版es5的模块语法; 而lodash-es则使用了es6的模块语法, 这让webpack之类的打包工具可以对其进行tree shake以删除为使用的代码来优化打包尺寸.")]),t._v(" "),s("p",[t._v("下面的代码直接从lodash中引入trimStart方法")]),t._v(" "),s("p",[s("code",[t._v("import { trimStart } from 'lodash';")])]),t._v(" "),s("p",[t._v("如果使用的是webpack进行打包的话, 仅此一行就会导致打包尺寸增加 70+ kb")]),t._v(" "),s("p",[t._v("而如果把lodash改为lodash-es")]),t._v(" "),s("p",[s("code",[t._v("import { trimStart } from 'lodash-es';")])]),t._v(" "),s("p",[t._v("下面的代码和使用lodash-es进行导入有一样的效果")]),t._v(" "),s("p",[s("code",[t._v("import trimStart from 'lodash/trimStart';")])]),t._v(" "),s("p",[t._v("这是默认导入的语法, 但是这种导入方式当我们需要在一个文件中导入多个lodash方法时就不太方便了")]),t._v(" "),s("p",[t._v("例如需要trimStart和trimEnd方法, 从lodash-es中导入只需一行")]),t._v(" "),s("p",[s("code",[t._v("import { trimStart, trimEnd } from 'lodash-es';")])]),t._v(" "),s("p",[t._v("而通过默认导入的方式从lodash中导入则需要两行")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" trimStart "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lodash/trimStart'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" trimEnd "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lodash/trimEnd'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("那么打包尺寸则只会增加 1kb 左右, 70kb对比1kb差距还是十分巨大的.")])]),t._v(" "),s("p",[t._v("通过上面的对比, 如果是使用webpack来进行打包的话, 我们在使用lodash库时, 尽量通过lodash-es来进行导入操作, 以此来避免以此行导入全部lodash代码到最终生产环境的代码.")])])}),[],!1,null,null,null);s.default=o.exports}}]);