(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{330:function(t,s,a){"use strict";a.r(s);var r=a(3),n=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"git提交代码前强制校验eslint集成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git提交代码前强制校验eslint集成"}},[t._v("#")]),t._v(" git提交代码前强制校验eslint集成")]),t._v(" "),s("h2",{attrs:{id:"husky"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#husky"}},[t._v("#")]),t._v(" husky")]),t._v(" "),s("p",[t._v("运行命令"),s("code",[t._v("npm i husky@4.3.8")])]),t._v(" "),s("h2",{attrs:{id:"lint-staged"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lint-staged"}},[t._v("#")]),t._v(" lint-staged")]),t._v(" "),s("p",[t._v("运行命令"),s("code",[t._v("npm i lint-staged@9.5.0")])]),t._v(" "),s("h2",{attrs:{id:"package-json添加配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#package-json添加配置"}},[t._v("#")]),t._v(" "),s("code",[t._v("package.json")]),t._v("添加配置")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint-staged"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"husky"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hooks"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pre-commit"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint-staged"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"*.{js,vue}"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("h2",{attrs:{id:"prettier"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prettier"}},[t._v("#")]),t._v(" prettier")]),t._v(" "),s("p",[t._v("运行命令")]),t._v(" "),s("p",[s("code",[t._v("npm i prettier@1.18.2")])]),t._v(" "),s("p",[s("code",[t._v("npm i eslint-plugin-prettier@3.1.0")])]),t._v(" "),s("p",[s("code",[t._v("npm i @vue/eslint-config-prettier@5.0.0")])]),t._v(" "),s("h2",{attrs:{id:"疑难问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#疑难问题"}},[t._v("#")]),t._v(" 疑难问题")]),t._v(" "),s("h3",{attrs:{id:"pre-commit不触发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pre-commit不触发"}},[t._v("#")]),t._v(" pre-commit不触发")]),t._v(" "),s("p",[t._v("项目目录下.git/config的文件里加了一行\nhooksPath = .husky，手动删除这行就能触发了")]),t._v(" "),s("h3",{attrs:{id:"提交报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提交报错"}},[t._v("#")]),t._v(" 提交报错")]),t._v(" "),s("p",[t._v("如果在提交代码遇到如下错误提示，可以试着更新一下git。\n"),s("img",{attrs:{src:"/images/1749ffee1319982e.png",alt:"图片"}})])])}),[],!1,null,null,null);s.default=n.exports}}]);